<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">



	<!-- My CSS -->
	<link rel="stylesheet" href="Styles/shared.css">
	<link rel="stylesheet" href="Styles/Notification.css">

	<title>Notifications</title>
	<link rel="icon" href="img/SK logo2.png" type="image/png">

</head>

<body>


	<!-- SIDEBAR -->
	<section id="sidebar">

		<!--Logo part-->
		<a href="Home.html" class="brand">

			<img src="img/SK logo2.png" style="padding: 10px;  max-width: 30px;">
			<img class="logo" src="img/SK logo3.png">

		</a>

		<!-- menu items -->

		<ul class="side-menu top">
			<li>
				<a href="Home.html">
					<i class="bx bxs-home"> </i>
					<span class="text"> Home</span>
				</a>
			</li>
	
  <li>
    <a href="my_team.html">
      <i class="bx bxs-group"></i>
      <span class="text">My Department</span>
    </a>
  </li>
			<li>
				<a href="Excellent Works Manager.html">
					<i class='bx bx-star'></i>
					<span class="text"> Excellent Works</span>
				</a>
			</li>
			<li>
				<a href="employeeCourses.html">
					<i class="bx bx-certification"></i>
					<span class="text"> Course</span>
				</a>
			</li>
			<li>
				<a href="Vacation.html">
					<i class='bx bxs-plane-alt'></i>
					<span class="text"> Vacation</span>
				</a>
			</li>

		</ul>



	




		<!--log out part-->
		<ul class="side-menu">
			<li>
				<a href="login.html" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>

	</section>
	<!-- SIDEBAR -->


	<!-- ------------------------------------------------------------------------------------------------------------------------- -->


	<!-- CONTENT -->
	<section id="content">

		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu'></i>
			<div class="head-title">
				<div class="left">
					<h1>Notifications</h1>
				</div>
			</div>


			<a class="profile-link">
				<div class="nav-right">

					<!-- 1) Avatar + name -->
					<div class="profile" onclick="location.href='Profile.html'">
						<img src="img/profile.png" alt="Profile">
						<div class="username">Lama
						</div>
					</div>


					<div class="points">
						<h2>125</h2>
						<p>Points</p>
					</div>


					<div class="notification-icon" onclick="location.href='Notification.html'">
						<i class='bx bxs-bell'></i>
						<span class="badge">3</span>
					</div>


				</div>
			</a>




		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>

			<div class="dashboard">

				<div class="main-content">
					<div class="card">
						<div class="head">
							<h3>Guess who nailed it this month? </h3>
						</div>
						<ul class="list employee-month-message">

							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bxs-crown'
											style="color:#f3b704; background-color: #bebef37b; font-size: 20px;"></i>
										<div class="textGroup">
											<p>Well deserved, well earned. Congratulations ,<strong>Lama Ahmd</strong>!
											</p>
										</div>
									</div>
								</div>
							</li>
					</div>
				</div>
				<br>

				<!-- Main Area -->
				<div class="main-content">



					<div class="card clickable-card" id="leave-requests" data-link="LeavesRequestsHistory.html">

						<!-- Leave Requests -->
						<div class="head">
							<h3>Vacation Requests</h3>
						</div>

						<ul class="list">

							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bxs-plane-take-off'
											style="color: #4CBB17; background-color:  #4bbb1746;"></i>
										<div class="textGroup">
											<p>Your vacation request (7 May To 9 May) was <strong>approved</strong></p>
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bxs-plane-land'
											style="color: #F44336; background-color: rgba(244, 67, 54, 0.321)"></i>
										<div class="textGroup">
											<p>Your vacation request (15 Feb To 25 Feb) was <strong>rejected</strong>
											</p>
										</div>
									</div>
								</div>
							</li>
						
						</ul>







					</div>


					<div class="card clickable-card" id="replacement-requests"
						data-link="ReplacementsRequestsHistory.html">
						<!-- Replacement Requests -->

						<div class="head">
							<h3>Replacements Requests</h3>
						</div>

						<ul class="list">



							<li class="request-item">
								<div class="task-info">
									<div class="leftGroup">
										<i class="bx bx-time-five"
											style="color: #FFA500; background-color: #ffa6003c;"></i>
										<div class="textGroup">
											<p><strong>Reminder:</strong> Respond to Nora’s replacement request before
												auto-approval </p>

										</div>
									</div>
								</div>

							<li class="request-item" data-id="req-1">
								<div class="task-info">
									<div class="leftGroup">
										<img src="img/Nora.png" class="profile-img">
										<div class="textGroup">
											<p><span style="font-weight: bold;">Nora</span> asks you to be replacement.
											</p>

										</div>
									</div>
								</div>

								<div class="actions" data-id="req-1">
									<button type="submit">Accept</button>
									<button>Reject</button>
								</div>
							</li>


							</li>










						</ul>

					</div>





					<!-- Vacation Requests Card -->
					<div class="card clickable-card hidden" id="vacation-requests"
						data-link="ReplacementsRequestsHistoryManager.html" >
						<div class="head">
							<h3>Vacation Requests</h3>
						</div>



						<ul class="list">
							<li class="request-item" data-id="vac-1">
								<div class="task-info">
									<div class="leftGroup">
										<img src="img/profile.png" class="profile-img">
										<div class="textGroup">
											<p><strong>Lama</strong> requested a vacation from <strong>12 April</strong>
												to <strong>14 April</strong>.</p>
										</div>
									</div>
								</div>
								<div class="actions" data-id="vac-1">
									<button type="submit">Accept</button>
									<button>Reject</button>
								</div>
							</li>

						</ul>



					</div>









					<div class="card clickable-card hidden" id="eval-tasks" data-link="TeamTask.html">

						<!--Task Evaluation Requests -->
						<div class="head">
							<h3>Task Evaluation Notifications</h3>
						</div>

						<ul class="list">

							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bx-clipboard'
											style="color: #6C6AF1; background-color: #6c6af155;"></i>
										<div class="textGroup">
											<p>Task <strong>“Design Icon Set”</strong> needs your evaluation</p>
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bx-clipboard'
											style="color: #6C6AF1; background-color: #6c6af155;"></i>
										<div class="textGroup">
											<p>Task <strong>“Create High-Fidelity Mockups”</strong> needs your
												evaluation</p>
										</div>
									</div>
								</div>
							</li>


						</ul>




					</div>






					<div class="card clickable-card hidden" id="certificate-verification"
						data-link="CertificateVerification.html">

						<!--Certificate Verification Notifications -->
						<div class="head">
							<h3>Certificate Verification</h3>
						</div>

						<ul class="list">

							<li class="cert-request" data-employee="Lama" data-course="UI UX Design"
								data-file="PDFs/UX_Certificate_Lama_Ahmed.pdf" data-img="img/profile.png">
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bx-certification'
											style="color: #6C6AF1; background-color: #6c6af155;"></i>
										<div class="textGroup">
											<p>A new certificate requires your verification</p>
										</div>
									</div>
								</div>
							</li>

							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bx-certification'
											style="color: #6C6AF1; background-color: #6c6af155;"></i>
										<div class="textGroup">
											<p>A new certificate requires your verification</p>
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="headerComment">
									<div class="leftGroup">
										<i class='bx bx-certification'
											style="color: #6C6AF1; background-color: #6c6af155;"></i>
										<div class="textGroup">
											<p>A new certificate requires your verification</p>
										</div>
									</div>
								</div>
							</li>

						</ul>

					</div>



					<div class="card clickable-card" id="task-notification" data-link="MyTaskHistory.html">
						<!--Tasks -->
						<div class="head">
							<h3>Task Notification</h3>
						</div>

						<ul class="list">

							<li>


								<div class="task-info">
									<div class="leftGroup">
										<i class='bx bx-task' style="color: #6C6AF1;  background-color: #6c6af155;"></i>
										<div class="textGroup">
											<p>New Task Assigned: <strong>"Prepare Final
													Report"</strong>- due 3 May. </p>

										</div>
									</div>
								</div>



							</li>
							<li>


								<div class="task-info">
									<div class="leftGroup">
										<i class='bx bx-user-check'
											style="color:#4CBB17; background-color: #4bbb1746;"></i>
										<div class="textGroup">

											<p>You have been assigned as a replacement in task: <strong>"Accessibility
													Audit"</strong>- due 18 May. </p>

										</div>
									</div>
								</div>



							</li>

							<li>


								<div class="task-info">
									<div class="leftGroup">
										<i class='bx bx-star'
											style="color: #FFD700; background-color:  #ffd90029;;"></i>
										<div class="textGroup">

											<p>Task “Create High-Fidelity Mockups” has been <strong>evaluated</strong>
											</p>

										</div>
									</div>
								</div>


							</li>

							<li>


								<div class="task-info">
									<div class="leftGroup">
										<i class='bx bx-edit-alt'
											style="color:#FFB100; background-color: #ffb30047;"></i>
										<div class="textGroup">

											<p>"Update Course Page" task has been <strong>modified </strong>by Ali
												Ahmed.
											</p>

										</div>
									</div>
								</div>



							</li>

							

							<li>


								<div class="task-info">
									<div class="leftGroup">
										<i class='bx bx-trash' style="color:#F0625F; background-color:#f0615f50;"></i>
										<div class="textGroup">

											<p>"Update Course Page" task has been <strong>deleted </strong>by Ali Ahmed.
											</p>

										</div>
									</div>
								</div>



							</li>

							<li>
								<div class="task-info">
									<div class="leftGroup">
										<i class='bx bx-user-plus'
											style="color: #6C6AF1; background-color: #6c6af155;"></i>
										<div class="textGroup">

											<p>You’ve been added to a task: “Design Review Meeting”</p>

										</div>
									</div>
								</div>



							</li>



						</ul>


					</div>




				</div>
			</div>










		</main>
		<!-- MAIN -->

	</section>
	<!-- CONTENT -->





	<dialog id="ReplacementDetails">

		<div class="headerDialog">
			<h3 class="title">Replacements Details</h3>
			<button class="closeBtn right"><i class='bx bxs-x-circle' style='color:#b4b4f7'></i></button>
		</div>
		<div class="leftGroup">
			<img src="img/Nora.png" class="profile-img">
			<div class="textGroup">
				<p><span style="font-weight: bold;">Nora</span> asks you to be replacement. </p>
			</div>
		</div>

		<div class="dialog-info">
			<p><i class='bx bx-calendar' style='color:#b4b4f7'></i> 6 Apr to 8 Apr</p>
			<p><i class="fa-regular fa-clock" style="color: #b4b4f7;"></i> 2 Day(s)</p>
			<p class="task-link">
				<i class='bx bx-task' style="color: #b4b4f7;"></i> 2 Task(s)
			</p>
		</div>

		<div class="actions" data-id="req-1">
			<button class="accept-btn" type="submit">Accept</button>
			<button class="reject-btn">Reject</button>
		</div>

	</dialog>

	<dialog id="taskDialog1">
		<div class="headerDialog">
			<h3 class="title">Replacement Tasks</h3>
			<button class="backBtn "><i class='bx bx-arrow-back bx-flip-vertical' style="color: #b4b4f7;"></i></button>
		</div>

		<ul class="list">

			<li>


				<div class="headerComment">
					<div class="leftGroup">
						<div class="textGroup">
							<p>Update Design System Components</p>
							<p class="info"> Standardize button styles and text inputs across all Figma files- Due 8 Apr
							</p>
						</div>
					</div>

			</li>
			<li>
				<div class="headerComment">
					<div class="leftGroup">
						<div class="textGroup">
							<p>Client Feedback Review</p>
							<p class="info"> Go through client’s notes and mark UI areas needing revision- Due 8 Apr</p>
						</div>
					</div>
				</div>
			</li>
		</ul>


	</dialog>

	<dialog id="rejectDialog">

		<div class="headerDialog">
			<h3 class="title">Reject Reason</h3>
			<button class="closeBtn right"><i class='bx bxs-x-circle' style='color:#b4b4f7'></i></button>
		</div>


		<textarea required placeholder="Please write the reason of the rejection"></textarea>

		<button class="confirm-reject" type="submit">Reject</button>

	</dialog>


	<!-- Vacation Details Dialog -->






	<dialog id="vacationDetailsDialog">
		<div class="container">
			<div class="head">
				<h3>Task Details</h3>
				<button class="closeBtn"><i class='bx bxs-x-circle' style='color:#b4b4f7'></i></button>
			</div>
		</div>
		<div class="dialog-body">
			<p class="label">Request By:</p>
			<div class="user-info">
				<img src="img/profile.png" alt="Lama" class="avatar">
				<p class="username">Lama</p>
			</div>
			<p class="label">Vacation Type:</p>
			<p class="info"><i class='bx bxs-plane-alt'></i> Annual Vacation</p>
			<p class="label">Vacation Dates and Duration:</p>
			<p class="info"><i class='bx bx-calendar'></i> From 12 April to 14 April</p>
			<p class="info"><i class='bx bx-time'></i> 2 Day(s)</p>
			<p class="label">Replacements:</p>

			<div class="replacement-container">
				<i class="bx bxs-plus-circle add-replacement" title="Assign replacements"></i>
			</div>

		</div>
		<div class="actions">
			<button class="accept-btn" type="button">Accept</button>
			<button class="reject-btn open-reject" type="button">Reject</button>
		</div>
	</dialog>
	<!-- ===== Replacement Tasks Dialog ===== :contentReference[oaicite:0]{index=0}&#8203;:contentReference[oaicite:1]{index=1} -->

	<!-- مودال عرض المهام -->
	<dialog id="taskDialog">
		<div class="headerDialog">
			<h3>Replacement Task</h3>
			<button class="closeBtn"><i class='bx bxs-x-circle'></i></button>
		</div>
		<ul class="task-list">
			<!-- يتعبأ جافاسكربتياً -->
		</ul>
		<button class="continue-btn" disabled>Continue</button>
	</dialog>

	<!-- ===== Employees Selection Dialog (موجودة في Home.html) :contentReference[oaicite:2]{index=2}&#8203;:contentReference[oaicite:3]{index=3} ===== -->
	<dialog id="empDialog">
		<h3>Select Replacement Employee</h3>
		<ul class="emp-list">
			<li data-id="emp1" data-name="Lama" data-img="img/Aaliyah.png">
				<img src="img/Aaliyah.png" class="profile profile-img">
				<h4> Aliyah Badr </h4>
			</li>
			<li data-id="emp2" data-name="Reema" data-img="img/Reema.png">
				<img src="img/Reema.png" class="profile profile-img">
				<h4> Reema Saleh </h4>
			</li>
			<li data-id="emp3" data-name="Nora" data-img="img/Nora.png">
				<img src="img/Nora.png" class="profile profile-img">
				<h4> Nora Ali</h4>
			</li>
			<!-- أضف المزيد حسب الحاجة -->
		</ul>
		<button class="btn shareBtn">Assign</button>
	</dialog>







	<dialog id="employeeDialog">
		<button class="closeBtn"><i class='bx bxs-x-circle'></i></button>
		<div class="dialog-content">

			<div class="modal-header">


				<img src="img/profile.png" alt="profile" class="modal-avatar" />

				<div class="modal-userinfo">

					<h2 class="modal-name">Lama</h2>
					<p class="modal-role">
						<span class="modal-role-text">Jop Position</span>
						<span class="modal-status">
							<span class="modal-status-icon"><i class="fa-regular fa-clock"
									style="color: #4caf50;"></i></span>
							<span class="modal-status-text">Available</span>
						</span>
					</p>

				</div>


			</div>

			<div class="modal-body">

				<p class="modal-rank">
					<span class="modal-rank-number">5th</span>
					<span class="modal-rank-label"> on the board today</span>
				</p>
				<div class="modal-tasks">
					<strong>Shared tasks:</strong>
					<ul class="modal-tasks-list">
						<li>
							task1
						</li>
					</ul>
				</div>
			</div>


		</div>
	</dialog>




	<dialog id="evaluationCard" class="task-details">
		<div class="container">
			<div class="head">
				<h3>Task Details</h3>
				<button class="closeBtn"><i class='bx bxs-x-circle' style='color:#b4b4f7'></i></button>
			</div>
		</div>

		<div class="task-information">
			<h4>Design Icon Set</h4>
			<p>creative Task</p>
			<p>Create or refine custom icons needed for a X project to align with the app’s visual language.</p>
		</div>
		<div class="container2">
			<div class="invatedEmp">
				<img src="img/profile.png" class="invatedEmpImg profile-img" />
				<img src="img/profile.png" class="invatedEmpImg profile-img" />
			</div>
		</div>


		<div class="dialog-info">
			<a href="PDFs/farisproposal.pdf" target="_blank" class="view-link">
				<i class='bx bx-link-external'></i> View Task Attachment
			</a>
		</div>



		<div class="points-input" style="margin: 10px 0;">
			<input type="number" min="0" placeholder="Point Range: 2-5" id="pointsInput">
			<button class="adjustPoints" id="incrementPoints">+</button>
			<button class="adjustPoints" id="decrementPoints">−</button>
		</div>

		<div class="action-buttons">
			<button class="action-btn filled" id="sendEvalBtn" disabled>Send Evaluation</button>
			<button class="action-btn outlined" id="moveToExcellentBtn" disabled>Move to Excellent Works</button>
		</div>
	</dialog>





	<!--Certificate Verification Card-->
	<dialog id="certificateDialog" class="cert-dialog">
		<div class="headerDialog">
			<h3 class="title">Certificate Verification</h3>
			<button class="closeBtn right"><i class='bx bxs-x-circle' style='color:#b4b4f7'></i></button>
		</div>

		<div class="leftGroup">
			<img src="img/profile.png" class="profile-img" id="certImg">
			<div class="textGroup">
				<p><strong id="certEmployee">Lama</strong> uploaded <strong id="certCourse">UI UX Design</strong></p>
			</div>
		</div>

		<!-- زر عرض الشهادة -->
		<div class="dialog-info">
			<a id="viewCertificateBtn" href="#" target="_blank" class="view-link">
				<i class='bx bx-link-external'></i> View Certificate (PDF)
			</a>
		</div>

		<div class="actions" data-id="req-1">
			<button class="accept-btn" type="submit">Accept</button>
			<button class="reject-btn">Reject</button>
		</div>
	</dialog>








	<!-- =================== Scripts =================== -->
	<script src="script/script.js"></script>
	<script src="script/Profile.js"></script>

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const dialog = document.getElementById('evaluationCard');
			const closeBtn = dialog.querySelector('.closeBtn');
			const pointsInput = document.getElementById('pointsInput');
			const incrementBtn = document.getElementById('incrementPoints');
			const decrementBtn = document.getElementById('decrementPoints');
			const sendBtn = document.getElementById('sendEvalBtn');
			const excellentBtn = document.getElementById('moveToExcellentBtn');

			// فتح الديالوق عند الضغط على عناصر القائمة
			document.querySelectorAll('#eval-tasks .list li').forEach(li => {
				li.addEventListener('click', () => {
					dialog.showModal();
				});
			});

			// إغلاق الديالوق
			closeBtn.addEventListener('click', () => {
				dialog.close();
			});

			// تفعيل الأزرار فقط إذا كان هناك رقم
			function toggleButtons() {
				const value = pointsInput.value.trim();
				const isValid = value !== '' && !isNaN(value) && parseInt(value) > 0;
				sendBtn.disabled = !isValid;
				excellentBtn.disabled = !isValid;
			}

			pointsInput.addEventListener('input', toggleButtons);

			// زيادة وإنقاص النقاط
			incrementBtn.addEventListener('click', () => {
				pointsInput.value = parseInt(pointsInput.value || 0) + 1;
				toggleButtons();
			});

			decrementBtn.addEventListener('click', () => {
				const currentValue = parseInt(pointsInput.value || 0);
				if (currentValue > 0) {
					pointsInput.value = currentValue - 1;
					toggleButtons();
				}
			});

			sendBtn.addEventListener('click', () => {
				showMessage("Evaluation has been <strong>sent</strong> successfully.", "success");
				dialog.close();
			});

			excellentBtn.addEventListener('click', () => {
				showMessage("Task moved to <strong>Excellent Works</strong> successfully.", "success");
				dialog.close();
			});

			// تحديث أولي عند الفتح
			toggleButtons();

		});








		document.addEventListener("DOMContentLoaded", () => {
			const vacationDialog = document.getElementById("vacationDetailsDialog");
			const rejectDialog = document.getElementById("rejectDialog");
			const closeButtons = document.querySelectorAll(".closeBtn");

			// 
			document.querySelectorAll("#vacation-requests .request-item").forEach(item => {
				item.addEventListener("click", () => {
					vacationDialog.showModal();
				});
			});

			// زر الإغلاق للديالوقات
			closeButtons.forEach(btn => {
				btn.addEventListener("click", () => {
					btn.closest("dialog").close();
				});
			});

			// زر الرفض يفتح ديالوق الرفض العام
			document.querySelector(".open-reject").addEventListener("click", () => {
				rejectDialog.showModal();
			});
		});








		//Cert. Dialog

		// 1. فتح مودال الشهادة
		let currentCertItem = null; // نحتاج نخزن العنصر اللي ضغطنا عليه

		document.querySelectorAll(".cert-request").forEach(item => {
			item.addEventListener("click", () => {
				const employee = item.dataset.employee;
				const course = item.dataset.course;
				const file = item.dataset.file;
				const img = item.dataset.img || "img/profile.png"; // لو مافي صورة، يحط الافتراضية

				document.getElementById("certEmployee").textContent = employee;
				document.getElementById("certCourse").textContent = course;
				document.getElementById("viewCertificateBtn").href = file;
				document.getElementById("certImg").src = img;

				currentCertItem = item; // نخزن العنصر عشان نحذفه بعدين

				document.getElementById("certificateDialog").showModal();
			});
		});

		// 2. عند الضغط على Accept
		const acceptCertBtn = document.querySelector("#certificateDialog .accept-btn");
		acceptCertBtn.addEventListener("click", () => {
			if (currentCertItem) {
				currentCertItem.remove(); // نحذف الإشعار
				showMessage("Certificate accepted successfully!", "success");
				currentCertItem = null; // نفضي المتغير
			}
			document.getElementById("certificateDialog").close();
		});

		// 3. عند الضغط على Reject
		const rejectCertBtn = document.querySelector("#certificateDialog .reject-btn");
		rejectCertBtn.addEventListener("click", () => {
			document.getElementById("certificateDialog").close();
			document.getElementById("rejectDialog").showModal(); // نفتح مودال الرفض الموجود جاهز
		});

		// 4. تأكيد الرفض
		const confirmRejectBtn = document.querySelector("#rejectDialog .confirm-reject");
		confirmRejectBtn.addEventListener("click", () => {
			if (currentCertItem) {
				currentCertItem.remove(); // نحذف الإشعار
				showMessage("Certificate rejected with reason added.", "error");
				currentCertItem = null;
			}
			document.getElementById("rejectDialog").close();
		});


	</script>



	<div id="messageBar" class="message-bar"></div>

</body>

</html>