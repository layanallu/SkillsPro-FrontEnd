<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">



	<!-- My CSS -->
	<link rel="stylesheet" href="Styles/shared.css">
	<link rel="stylesheet" href="Styles/CertificateVerification.css">


	<title>Certificate Verification History</title>
	<link rel="icon" href="img/SK logo2.png" type="image/png">

</head>

<body>


	<!-- SIDEBAR -->
	<section id="sidebar">

		<!--Logo part-->
		<a href="Home.html" class="brand">

			<img src="img/SK logo2.png" style="padding: 10px;  max-width: 30px;">
			<img class="logo" src="img/SK logo3.png">

		</a>

		<!-- menu items -->
		<ul class="side-menu top">
			<li>
				<a href="Home.html">
					<i class="bx bxs-home"> </i>
					<span class="text"> Home</span>
				</a>
			</li>
			<li>
				<a href="my_team.html">
					<i class='bx bxs-group'></i>
					<span class="text"> My Team</span>
				</a>
			</li>
			<li>
				<a href="Excellent Works.html">
					<i class='bx bx-star'></i>
					<span class="text"> Excellent Works</span>
				</a>
			</li>
			<li>
				<a href="employeeCourses.html">
					<i class="bx bx-certification"></i>
					<span class="text"> Course</span>
				</a>
			</li>
			<li>
				<a href="Vacation.html">
					<i class='bx bxs-plane-alt'></i>
					<span class="text"> Vacation</span>
				</a>
			</li>
		</ul>



		<!--log out part-->
		<ul class="side-menu">
			<li>
				<a href="login.html" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>

	</section>
	<!-- SIDEBAR -->


	<!-- ------------------------------------------------------------------------------------------------------------------------- -->


	<!-- CONTENT -->
	<section id="content">

		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu'></i>
			<div class="head-title">
				<div class="left">
					<h1>Certificate Verification History</h1>
				</div>
			</div>

			<a href="Profile.html" class="profile-link">
				<div class="nav-right">
					<div class="notification-icon" onclick="location.href='notifications.html'">
						<i class='bx bxs-bell'></i>
						<span class="badge">3</span>
					</div>

				  <div class="points">
					<h2>125</h2>
					<p>Points</p>
				  </div>
				  <div class="profile">
					<img src="img/profile.png" alt="Profile">
				  </div>
				</div>
			  </a>
			  


		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>

			<div class="search-filter">
				<div class="input-box">
					<i class='bx bx-search'></i>
					<input type="text" placeholder="Search here..." />
					<button type="submit" class="button">Search</button>
				</div>

				<button class="sort-icon" title="Sort by points">
					<i class='bx bx-filter-alt' style="color: #6c6af1d6;"></i>
				</button>

			</div>



			<div class="dashboard">

				<div class="user-section">



					<!-- Header -->
					<div class="header">
						<p>Certificate Of</p>
						<p>Verified By</p>
						<p>Course</p>
						<p>Submission Date</p>
						<p>Verified Date</p>
						<p>state</p>
						<p>Note</p>
					</div>

					<!-- Tasks List -->
					<ul class="list">


						<li class="pending"  data-id="req-1">
							<div class="req-info">
								<img src="img/Nora.png" alt="profile" class="profile-img">
								<p style="font-weight: bold;">Nora Ali</p>
							</div>
							<div class="req-info">
								<!--<img src="img/Reema.png" alt="profile" class="profile-img">
								<p style="font-weight: bold;">reema saleh</p>-->
							</div>



							<p>Advanced Certification in UI UX Design</p>

							<p> 2 May 2025 </p>

							<p>/</p>

							<div class="task-status">
								Pending
							</div>
							<p>/</p>
						</li>
						<div class="actions"  data-id="req-1">
							<button class="accept-btn" type="submit">Accept</button>
							<button class="reject-btn">Reject</button>
						</div>



						<li class="accepted">
							<div class="req-info">
								<img src="img/Ali.png" alt="profile" class="profile-img">
								<p style="font-weight: bold;">Ali Ahmed</p>	
							</div>
							<div class="req-info">
								<img src="img/Reema.png" alt="profile" class="profile-img">
								<p style="font-weight: bold;">reema saleh</p>
							</div>



							<p>Advanced Certification in UI UX Design</p>

							<p> 2 May 2025 </p>

							<p> 7 May 2025</p>

							<div class="task-status">
								Accepted
							</div>

							<p>/</p>
						</li>



						<li class="rejected">
							<div class="req-info">
								<img src="img/Yusef.png" alt="profile" class="profile-img">
								<p style="font-weight: bold;">Yusef Abdullah</p>
							</div>
							<div class="req-info">
								<img src="img/Reema.png" alt="profile" class="profile-img">
								<p style="font-weight: bold;">reema saleh</p>
							</div>



							<p>Advanced Certification in UI UX Design</p>

							<p> 2 May 2025 </p>

							<p> 7 May 2025</p>

							<div class="task-status">
								Rejected
							</div>
							<p>Wrong Name</p>
						</li>




				</div>


			</div>
			<!-- Main Area -->















		</main>
		<!-- MAIN -->

	</section>
	<!-- CONTENT -->












	

	<dialog id="rejectDialog">

		<div class="headerDialog">
			<h3 class="title">Reject Reason</h3>
			<button class="closeBtn right"><i class='bx bxs-x-circle' style='color:#b4b4f7'></i></button>
		</div>


		<textarea required placeholder="Please write the reason of the rejection" ></textarea>

		<button class="confirm-reject" type="submit">Reject</button>

	</dialog>

	

	<dialog id="employeeDialog">
		<button class="closeBtn"><i class='bx bxs-x-circle'></i></button>
		<div class="dialog-content">
		 
		  <div class="modal-header">


			<img src="img/profile.png" alt="profile" class="modal-avatar" />

			<div class="modal-userinfo">

			  <h2 class="modal-name">Lama</h2>
			  <p class="modal-role">
				<span class="modal-role-text">Jop Position</span>
				<span class="modal-status">
				  <span class="modal-status-icon"><i class="fa-regular fa-clock" style="color: #4caf50;"></i></span>
				  <span class="modal-status-text">Available</span>
				</span>
			  </p>

			</div>


		  </div>

		  <div class="modal-body">

			<p class="modal-rank">
			  <span class="modal-rank-number">5th</span>
			  <span class="modal-rank-label"> on the board today</span>
			</p>
			<div class="modal-tasks">
			  <strong>Shared tasks:</strong>
			  <ul class="modal-tasks-list">
				<li>
					task1
				</li>
			  </ul>
			</div>
		  </div>

		  
		</div>
	  </dialog>








	<!-- =================== Scripts =================== -->
	<script src="script/script.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', () => {

			document.querySelectorAll('li.pending').forEach(li => {
  li.addEventListener('click', () => {
    // مثال: فتح صفحة العرض
    window.location.href = `PDFs/UX_Certificate_Lama_Ahmed.pdf`;
  });
});




		  const verifier = {
			name: 'Reema Saleh',
			avatar: 'img/Reema.png'
		  };
		
		  const monthNames = ["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."];
		
		  function formatDate(date) {
			const d = date.getDate();
			const m = monthNames[date.getMonth()];
			const y = date.getFullYear();
			return `${d} ${m} ${y}`;
		  }
		
		  // زرّ قبول
		  document.querySelectorAll('.accept-btn').forEach(btn => {
			btn.addEventListener('click', e => {
			  const actionDiv = e.target.closest('.actions');
			  const id = actionDiv.dataset.id;
			  const li = document.querySelector(`li[data-id="${id}"]`);
			  if (!li) return;
		
			  const children = Array.from(li.children);
			  const divVerifiedBy = children[1];
			  const pVerifiedDate = children[4];
			  const stateDiv     = children[5];
		
			  // تحديث Verified By
			  divVerifiedBy.innerHTML = `
				<img src="${verifier.avatar}" alt="profile" class="profile-img">
				<p style="font-weight:bold;">${verifier.name}</p>
			  `;
			  // تحديث التاريخ
			  pVerifiedDate.textContent = formatDate(new Date());
			  // تغيير الحالة
			  stateDiv.textContent = 'Accepted';
			  li.classList.remove('pending');
			  li.classList.add('accepted');
			  showMessage("Certificate successfully accepted", "success");
		
			  // إزالة أزرار الإجراء
			  actionDiv.remove();
			});
		  });
		
		  // زرّ رفض
		  const rejectDialog     = document.getElementById('rejectDialog');
		  const confirmRejectBtn = rejectDialog.querySelector('.confirm-reject');
		
		  document.querySelectorAll('.reject-btn').forEach(btn => {
			btn.addEventListener('click', e => {
			  const id = e.target.closest('.actions').dataset.id;
			  rejectDialog.dataset.id = id;
			  rejectDialog.showModal();
			});
		  });
		
		  // تأكيد الرفض
		  confirmRejectBtn.addEventListener('click', () => {
			const reason = rejectDialog.querySelector('textarea').value.trim();
			if (!reason) {
			  rejectDialog.querySelector('textarea').reportValidity();
			  return;
			}
			const id = rejectDialog.dataset.id;
			const li = document.querySelector(`li[data-id="${id}"]`);
			if (!li) {
			  rejectDialog.close();
			  return;
			}
		
			const children = Array.from(li.children);
			const divVerifiedBy = children[1];
			const pVerifiedDate = children[4];
			const stateDiv     = children[5];
			const pNote        = children[6];
			const actionDiv    = document.querySelector(`.actions[data-id="${id}"]`);
		
			// تحديث Verified By
			divVerifiedBy.innerHTML = `
			  <img src="${verifier.avatar}" alt="profile" class="profile-img">
			  <p style="font-weight:bold;">${verifier.name}</p>
			`;
			// تحديث التاريخ
			pVerifiedDate.textContent = formatDate(new Date());
			// تحديث الحالة
			stateDiv.textContent = 'Rejected';
			li.classList.remove('pending');
			li.classList.add('rejected');
			showMessage("Certificate successfully rejected", "error");
			// تحديث الملاحظة
			pNote.textContent = reason;
			// إزالة أزرار الإجراء
			if (actionDiv) actionDiv.remove();
		
			rejectDialog.close();
		  });
		
		  // إغلاق المودال
		  document.querySelectorAll('dialog .closeBtn').forEach(btn => {
			btn.addEventListener('click', () => btn.closest('dialog').close());
		  });
		});
		</script>
		



	<div id="messageBar" class="message-bar"></div>

</body>

</html>