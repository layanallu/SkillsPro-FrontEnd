<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Courses</title>

  <!-- Boxicons -->
  <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>

  <!-- Shared styles -->
  <link rel="stylesheet" href="Styles/shared.css">



  <!-- Page-specific styles -->
  <link rel="stylesheet" href="Styles/employeeCourses.css">


  <link rel="icon" href="img/SK logo2.png" type="image/png">

</head>

<body>

  <!-- SIDEBAR -->
	<section id="sidebar">

		<!--Logo part-->
		<a href="Home.html" class="brand">

			<img src="img/SK logo2.png" style="padding: 10px;  max-width: 30px;">
			<img class="logo" src="img/SK logo3.png">

		</a>

		<!-- menu items -->
		<ul class="side-menu top">
			<li>
				<a href="Home.html">
					<i class="bx bxs-home"> </i>
					<span class="text"> Home</span>
				</a>
			</li>
			<li>
				<a href="my_team.html">
					<i class='bx bxs-group'></i>
					<span class="text"> My Team</span>
				</a>
			</li>
			<li>
				<a href="Excellent Works Manager.html">
					<i class='bx bx-star'></i>
					<span class="text"> Excellent Works</span>
				</a>
			</li>
			<li class="active" >
				<a href="employeeCourses.html">
					<i class="bx bx-certification"></i>
					<span class="text"> Course</span>
				</a>
			</li>
			<li>
				<a href="Vacation.html">
					<i class='bx bxs-plane-alt'></i>
					<span class="text"> Vacation</span>
				</a>
			</li>
		</ul>



		<!--log out part-->
		<ul class="side-menu">
			<li>
				<a href="login.html" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>

	</section>
	<!-- SIDEBAR -->

  <!-- CONTENT -->
  <section id="content">
    <!-- NAVBAR -->
    <nav>
			<i class='bx bx-menu'></i>
			<div class="head-title">
				<div class="left">
					<h1>Excellent Works</h1>
				</div>
			</div>

			<a class="profile-link">
				<div class="nav-right">

					<!-- 1) Avatar + name -->
					<div class="profile" onclick="location.href='Profile.html'">
						<img src="img/Sara.png" alt="Profile">
						<div class="username">Sara
						</div>
					</div>


					<div class="points">
						<h2>95</h2>
						<p>Points</p>
					</div>


					<div class="notification-icon" onclick="location.href='Notification.html'">
						<i class='bx bxs-bell'></i>
						<span class="badge">2</span>
					</div>


				</div>
			</a>

		</nav>
    <!-- NAVBAR END -->

    <!-- MAIN CONTENT -->

    <main>
      <div class="courses-container">
        <div class="search-filter-bar">
          <div class="search-bar">
            <i class='bx bx-search'></i>
            <input type="text" id="searchInput" placeholder="Search">
          </div>

          <div class="custom-dropdown">
            <button id="filterBtn">
              <i class='bx bx-filter'></i>
              <span id="selectedFilter">All</span>
              <i class='bx bx-chevron-down'></i>
            </button>
            <ul class="dropdown-options">
              <li data-value="all">All</li>
              <li data-value="uiux">UI/UX</li>
              <li data-value="ai">AI</li>
              <li data-value="google">Google</li>
            </ul>
          </div>
        </div>

        <div class="courses-grid">
          <div class="course-card" data-category="uiux">
            <img src="img/cor1.png" alt="MIT B">
            <div class="course-info">
              <h3>Advanced Certification in UI UX Design</h3>
              <p><i class='bx bx-star'></i> 30 Points</p>
              <p><i class='bx bx-time'></i> 5 Months</p>
              <div class="card-buttons">
                <button class="details-btn" data-name="Advanced Certification in UI UX Design"
                  data-description="A comprehensive UI/UX course by MIT B" data-duration="5 Months"
                  data-started="false">
                  More Details
                </button>

                <button class="attach-btn">Attach</button>
              </div>
            </div>
          </div>

          <!-- Course 2 -->
          <div class="course-card" data-category="ai">
            <img src="img/cor2.png" alt="IxDF">
            <div class="course-info">
              <h3>AI for Designers</h3>
              <p><i class='bx bx-star'></i> 10 Points</p>
              <p><i class='bx bx-time'></i> 13 Hours</p>
              <div class="card-buttons">
                <button class="details-btn" data-name="AI for Designers"
                  data-description="Intro to AI tools for design workflows." data-duration="13 Hours"
                  data-started="false">
                  More Details
                </button>

                <button class="attach-btn">Attach</button>
              </div>
            </div>
          </div>

          <!-- Course 3 -->
          <div class="course-card" data-category="ai">
            <img src="img/cor3.jpeg" alt="Course Image">
            <div class="course-info">
              <h3>AI for Designers</h3>
              <p><i class='bx bx-star'></i> 10 Points</p>
              <p><i class='bx bx-time'></i> 13 Hours</p>

              <div class="card-buttons">
                <button class="details-btn" data-name="AI for Designers"
                  data-description="Introduction to AI tools for design workflows." data-duration="13 Hours"
                  data-started="false">More Details</button>

                <button class="attach-btn">Attach</button>
              </div>
            </div>
          </div>

          <!-- Course 4 -->
          <div class="course-card" data-category="google">
            <img src="img/cor3.jpeg" alt="google">
            <div class="course-info">
              <h3>Foundations of User Experience Design</h3>
              <p><i class='bx bx-star'></i> 10 Points</p>
              <p><i class='bx bx-time'></i> 18 Months</p>
              <div class="card-buttons">
                <button class="details-btn" data-name="Foundations of User Experience Design"
                  data-description="Google UX Design foundations" data-duration="18 Months" data-started="false">
                  More Details
                </button>

                <button class="attach-btn">Attach</button>
              </div>
            </div>
          </div>

        </div> <!-- end .courses-grid -->
      </div> <!-- end .courses-container -->
    </main>
  </section>


  <dialog id="certificateModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" id="closeCertificateBtn">&times;</span>
      <h2>Attach a Certificate</h2>
      <h3 id="courseTitle">Course Name</h3>
      <div class="upload-icon">
        <i class='bx bx-upload' style="font-size:48px;color:#6F6FF5"></i>
      </div>
      <label for="certificateFile" class="upload-btn">Upload a File</label>
      <input type="file" id="certificateFile" hidden />
      <button id="attachCertificateBtn" disabled>Attach</button>
    </div>
  </dialog>
  
  <!-- Course Details Modal -->
  <dialog id="detailsModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" id="closeDetailsBtn">&times;</span>
      <h2 id="modalTitle"><i class='bx bxs-book'></i> Course Title</h2>

      <div class="modal-info">
        <p><i class='bx bx-detail'></i> <span id="modalDescription">Course Description</span></p>
        <p><i class='bx bx-time'></i> <strong>Duration:</strong> <span id="modalDuration">--</span></p>
        <p><i class='bx bx-user'></i> <strong>Status:</strong> <span id="modalStatus">--</span></p>
      </div>

      <button id="startCourseBtn"><i class='bx bx-play-circle'></i> Start Course</button>
    </div>
  </dialog>







  <!-- JS SCRIPTS -->



  <script src="script/script.js"></script>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const searchInput = document.getElementById("searchInput");
      const filterBtn = document.getElementById("filterBtn");
      const dropdown = document.querySelector(".dropdown-options");
      const selectedText = document.getElementById("selectedFilter");
      const courseCards = document.querySelectorAll(".course-card");

      // فلترة 
      searchInput.addEventListener("input", () => {
        const searchText = searchInput.value.toLowerCase();
        courseCards.forEach(card => {
          const title = card.querySelector("h3").textContent.toLowerCase();
          card.style.display = title.includes(searchText) ? "flex" : "none";
        });
      });

      // فتح القائمة
      filterBtn.addEventListener("click", () => {
        dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
      });

      // اختيار الكورس
      dropdown.querySelectorAll("li").forEach(item => {
        item.addEventListener("click", () => {
          const selected = item.dataset.value;
          selectedText.textContent = item.textContent;
          dropdown.style.display = "none";

          courseCards.forEach(card => {
            const category = card.getAttribute("data-category");
            card.style.display = (selected === "all" || category === selected) ? "flex" : "none";
          });
        });
      });
    });

    /// Certificate Modal
// =====================
const certificateModal = document.getElementById("certificateModal");
const closeCertificateBtn = document.getElementById("closeCertificateBtn");
const attachCertificateBtn = document.getElementById("attachCertificateBtn");
const courseTitleEl = document.getElementById("courseTitle");
const fileInput = document.getElementById("certificateFile");

document.querySelectorAll(".attach-btn").forEach(btn => {
  btn.addEventListener("click", e => {
    courseTitleEl.textContent = e.target.closest(".course-card").querySelector("h3").textContent;
    if (certificateModal.showModal) certificateModal.showModal();
    else certificateModal.setAttribute("open", "");
  });
});

closeCertificateBtn.addEventListener("click", () => certificateModal.close());
certificateModal.addEventListener("click", e => {
  if (e.target === certificateModal) certificateModal.close();
});

fileInput.addEventListener("change", () => {
  attachCertificateBtn.disabled = !fileInput.files.length;
  attachCertificateBtn.classList.toggle("active", fileInput.files.length > 0);
});
    
    //========== More Details Modal ==========
    const detailsModal = document.getElementById("detailsModal");
const closeDetailsBtn = document.getElementById("closeDetailsBtn");
const startBtn = document.getElementById("startCourseBtn");

document.querySelectorAll(".details-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    // املأ المحتوى
    modalTitle.textContent = btn.dataset.name;
    modalDescription.textContent = btn.dataset.description;
    modalDuration.textContent = btn.dataset.duration;
    modalStatus.textContent = btn.dataset.started === "true" ? "In Progress" : "Not Started";
    startBtn.disabled = btn.dataset.started === "true";

    // افتح المودال باستخدام showModal
    if (typeof detailsModal.showModal === "function") {
      detailsModal.showModal();
    } else {
      // فallback للمتصفحات القديمة
      detailsModal.setAttribute("open", "");
    }
  });
});

// زر الإغلاق
closeDetailsBtn.addEventListener("click", () => {
  detailsModal.close();
});

// إغلاق عند النقر خارج الصندوق الأبيض
detailsModal.addEventListener("click", e => {
  if (e.target === detailsModal) {
    detailsModal.close();
  }
});

    

    // تحديث الحالة عند الضغط على Start Course
    startBtn.addEventListener("click", () => {
      modalStatus.textContent = "In Progress";
      startBtn.disabled = true;
      startBtn.style.opacity = "0.6";
      startBtn.textContent = "Already Started ✅";
    });


  </script>
</body>

</html>